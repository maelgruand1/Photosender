<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photosender</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <header>
      <h1 class="title">Photosender</h1>
      <div id="profile-logo" class="hidden">
        <span id="profile-icon">üë§</span>
        <span id="profile-username"></span>
      </div>
    </header>

    <nav class="navbar">
      <ul>
        <li>
          <a href="#" data-section="home">Home</a>
          <a href="#" data-section="about">About</a>
          <a href="#" data-section="login">Login</a>
        </li>
      </ul>
    </nav>
    <main>
      <!-- Section Home -->
      <section id="home" class="active">
        <div>
          <h2>Home</h2>
          <p>
            Bienvenue sur Photosender, votre solution pour envoyer et partager
            vos photos en toute simplicit√© !
          </p>
          <button class="action-btn">Commencez Maintenant</button>
        </div>
      </section>

      <!-- Section About -->
      <section id="about" class="hidden">
        <h2>√Ä propos de Photosender</h2>
        <p>
          Photosender est une plateforme innovante con√ßue pour faciliter le
          partage de vos photos avec vos amis, votre famille ou vos coll√®gues.
          Que vous souhaitiez envoyer une seule image ou cr√©er une galerie,
          Photosender est fait pour vous !
        </p>
      </section>

      <!-- Section Login -->
      <section id="login" class="hidden">
        <div class="login-container">
          <h2>Connexion</h2>
          <div class="login-container">
            <h2>Connexion</h2>
            <form id="loginForm">
              <input
                type="text"
                id="username"
                placeholder="Nom d'utilisateur"
                required
              />
              <input type="email" id="email" placeholder="E-mail" required />
              <button type="submit">Se connecter</button>
            </form>
            <p id="status"></p>
          </div>

          <p class="signup-text">
            Pas encore inscrit ? <a href="#">Cr√©er un compte</a>
          </p>
        </div>
      </section>
    </main>
    <script>
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          const username = document.getElementById("username").value;
          const email = document.getElementById("email").value;

          fetch(
            "https://script.google.com/macros/s/AKfycbx1vPPuzAdU75K6qX-y2RsFGUxxTzAPKALnfdHr5F-R85VaibpJYTqCoYHKD16XoUAFfg/exec",
            {
              // Remplace par l'URL du script Apps Script
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ username, email }),
            }
          )
            .then((response) => response.json())
            .then((data) => {
              if (data.status === "success") {
                document.getElementById("status").textContent =
                  "Connect√© avec succ√®s !";
              } else {
                document.getElementById("status").textContent =
                  "Erreur de connexion.";
              }
            })
            .catch((err) => {
              document.getElementById("status").textContent =
                "Une erreur est survenue.";
              console.error(err);
            });
        });
    </script>
    <footer>
      <p>&copy; 2024 - Photosender.</p>
    </footer>
  </body>
</html>
